var JsSearch=function JsSearch(){var titleIndex={},contentIndex={},documents={},selectedIndex=0,selectedDocument=void 0;function showSearchLayer(){document.getElementById("jss-search").style.display="block",document.getElementById("jss-search-layer").style.display="block",document.getElementById("jss-search-box").focus()}function hideSearchLayer(){document.getElementById("jss-search").style.display="none",document.getElementById("jss-search-layer").style.display="none"}function showResults(docIds){if(document.getElementById("jss-search-results").style.display="none",document.getElementById("jss-search-results").innerHTML="",docIds){document.getElementById("jss-search-results").style.display="block",docIds.forEach(function(docId){var doc=documents[docId],docNode=document.createElement("div");docNode.className="jss-search-result",docNode.innerHTML='<span class="title">'+doc.title+"</span>",doc.group&&(docNode.innerHTML+='<span class="group"> â€” '+doc.group+"</span>"),doc.meta&&(docNode.innerHTML+='<p class="meta">'+doc.meta+"</p>"),docNode.onclick=function(){eval(doc.event)},document.getElementById("jss-search-results").appendChild(docNode)});var searchResults=document.getElementsByClassName("jss-search-result");selectedIndex%=searchResults.length,selectedIndex<0&&(selectedIndex=searchResults.length-1);var list=Array.from(docIds);selectedDocument=documents[list[selectedIndex]];for(var i=0;i<searchResults.length;i++)searchResults[i].className="jss-search-result";var selectedDomElement=document.getElementsByClassName("jss-search-result").item(selectedIndex);selectedDomElement.className="jss-search-result active",selectedDomElement.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}}function intersection(setA,setB){var _intersection=new Set;return setB.forEach(function(elem){setA.has(elem)&&_intersection.add(elem)}),_intersection}function calculateAllEdgeCharNgrams(string,n1,n2){for(var nGrams=new Set,parts=string.split(" "),i=0;i<parts.length;i++)for(var p=parts[i],n=n1;n<=n2;n++)calculateCharEdgeNGrams(p,n,!0).forEach(function(value){nGrams.add(value)});return nGrams}function calculateCharEdgeNGrams(string,n,mustHitLeftEdge){var nGrams=new Set,length=string.length;if(length<n)return nGrams;for(var i=0;i<=length-n;i++){for(var nGram="",j=i;j<i+n;j++)nGram+=string.charAt(j);if(nGrams.add(nGram),0===i&&mustHitLeftEdge)break}return nGrams}function deepExtend(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(obj)for(var key in obj)obj.hasOwnProperty(key)&&("object"==typeof obj[key]?out[key]=deepExtend(out[key],obj[key]):out[key]||(out[key]=obj[key]))}return out}return{init:function(triggerSearchBoxId,options){options||(options={}),deepExtend(options,{placeholder:"Quick Search"});var backgroundLayer=document.createElement("div");backgroundLayer.id="jss-search-layer",document.body.appendChild(backgroundLayer);var searchLayer=document.createElement("div");searchLayer.id="jss-search",searchLayer.innerHTML='<input id="jss-search-box" type="text" placeholder="'+options.placeholder+'" /><div id="jss-search-results"></div>',document.body.appendChild(searchLayer);var self=this;document.getElementById("jss-search-layer").onclick=hideSearchLayer,document.getElementById(triggerSearchBoxId).onfocus=showSearchLayer,document.getElementById("jss-search-box").onkeyup=function(event){27!==event.keyCode?(38===event.keyCode?(selectedIndex--,event.preventDefault()):40===event.keyCode?(selectedIndex++,event.preventDefault()):13===event.keyCode&&selectedDocument&&(eval(selectedDocument.event),event.preventDefault()),self.search(this.value)):hideSearchLayer()},this.indexDocuments()},indexDocuments:function(){for(var docs=document.getElementsByClassName("jss-doc"),i=0;i<docs.length;i++){var doc=docs[i],title=doc.getAttribute("jss-title"),group=doc.getAttribute("jss-group"),meta=doc.getAttribute("jss-meta"),content=doc.getAttribute("jss-content");content||(content=doc.textContent);var id=doc.getAttribute("jss-id");id||(id="jss-id-"+i);for(var jssEvent=doc.getAttribute("jss-event"),documentObject={id:id,title:title,group:group,meta:meta,content:content,event:jssEvent},words=(title+" "+group+" "+meta).split(" "),j=0;j<words.length;j++){var word=words[j].toLowerCase(),ngrams;calculateAllEdgeCharNgrams(word,1,12).forEach(function(ngram){var docIds=titleIndex[ngram];docIds||(docIds=new Set,titleIndex[ngram]=docIds),docIds.add(id)})}for(words=content.split(" "),j=0;j<words.length;j++){word=words[j].toLowerCase();var docIds=contentIndex[word];docIds||(docIds=new Set,contentIndex[word]=docIds),docIds.add(id)}documents[id]=documentObject}},search:function(query){for(var tsStart=(new Date).getTime(),parts=query.toLowerCase().split(" "),idsFound=void 0,i=0;i<parts.length;i++){var tempIds=titleIndex[parts[i]];void 0===idsFound?idsFound=tempIds:void 0!==tempIds&&(idsFound=intersection(idsFound,tempIds))}if(void 0===idsFound||0===idsFound.length)for(var i=0;i<parts.length;i++){var tempIds=contentIndex[parts[i]];void 0===idsFound?idsFound=tempIds:void 0!==tempIds&&(idsFound=intersection(idsFound,tempIds))}showResults(idsFound)},enableShortcuts:function(){window.onkeydown=function(event){event.ctrlKey&&70===event.keyCode&&(event.preventDefault(),showSearchLayer())}},open:function(){showSearchLayer()},close:function(){hideSearchLayer()}}}();
